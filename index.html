<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <aside class="sidebar">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2"/>
                    <path d="M10 16C10 16 12 12 16 12C20 12 22 16 22 16C22 16 20 20 16 20C12 20 10 16 10 16Z" fill="currentColor"/>
                </svg>
                <span>Snake</span>
            </div>
            
            <div class="stats-card">
                <div class="stat">
                    <span class="stat-value" id="score">0</span>
                    <span class="stat-label">Score</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="length">1</span>
                    <span class="stat-label">Length</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="speed">1</span>
                    <span class="stat-label">Level</span>
                </div>
            </div>

            <div class="controls-section">
                <h3>Controls</h3>
                <div class="control-buttons">
                    <button id="pauseBtn" class="btn btn-secondary">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <rect x="3" y="2" width="4" height="12" rx="1"/>
                            <rect x="9" y="2" width="4" height="12" rx="1"/>
                        </svg>
                        Pause
                    </button>
                    <button id="restartBtn" class="btn btn-secondary">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 3V1L4 4l4 3V5c2.76 0 5 2.24 5 5s-2.24 5-5 5-5-2.24-5-5H1c0 3.87 3.13 7 7 7s7-3.13 7-7-3.13-7-7-7z"/>
                        </svg>
                        Restart
                    </button>
                </div>
            </div>

            <div class="ai-section">
                <h3>AI Assistant</h3>
                <label class="toggle-switch">
                    <input type="checkbox" id="hintsToggle" checked>
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Show Hints</span>
                </label>
                <label class="toggle-switch">
                    <input type="checkbox" id="statsToggle">
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Live Stats</span>
                </label>
            </div>

            <div class="help-section">
                <button id="helpBtn" class="btn btn-ghost">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 1C4.13 1 1 4.13 1 8s3.13 7 7 7 7-3.13 7-7-3.13-7-7-7zm.5 11h-1v-1h1v1zm1.07-4.24l-.9.92C8.27 9.09 8 9.5 8 10.5H7v-.25c0-.74.27-1.41.72-1.93l1.24-1.26c.23-.23.36-.54.36-.87 0-.67-.54-1.21-1.21-1.21-.67 0-1.21.54-1.21 1.21H5.5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5c0 .55-.22 1.05-.58 1.41z"/>
                    </svg>
                    Help (F1)
                </button>
            </div>

            <div class="keyboard-hints">
                <span>↑↓←→ or WASD to move</span>
                <span>P to pause • R to restart</span>
            </div>
        </aside>

        <main class="game-main">
            <div class="canvas-wrapper">
                <canvas id="gameCanvas" width="400" height="400"></canvas>
                <div id="liveStatsPanel" class="live-stats-panel"></div>
            </div>
        </main>
    </div>

    <div id="gameOverScreen" class="modal hidden">
        <div class="modal-content game-over-modal">
            <div class="modal-icon game-over-icon">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                    <circle cx="24" cy="24" r="22" stroke="currentColor" stroke-width="2"/>
                    <path d="M16 28C16 28 19 32 24 32C29 32 32 28 32 28" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="17" cy="20" r="2" fill="currentColor"/>
                    <circle cx="31" cy="20" r="2" fill="currentColor"/>
                </svg>
            </div>
            <h2>Game Over</h2>
            <div class="final-stats">
                <div class="final-stat">
                    <span class="final-stat-value" id="finalScore">0</span>
                    <span class="final-stat-label">Final Score</span>
                </div>
                <div class="final-stat">
                    <span class="final-stat-value" id="finalLength">1</span>
                    <span class="final-stat-label">Length</span>
                </div>
                <div class="final-stat highlight">
                    <span class="final-stat-value" id="highScore">0</span>
                    <span class="final-stat-label">High Score</span>
                </div>
            </div>
            <button id="playAgainBtn" class="btn btn-primary btn-large">
                Play Again
            </button>
            <p class="modal-hint">Press Enter or Space to restart</p>
        </div>
    </div>

    <div id="helpOverlay" class="modal hidden">
        <div class="modal-content help-modal">
            <h2>How to Play</h2>
            <div class="help-grid">
                <div class="help-card">
                    <h4>Movement</h4>
                    <div class="key-group">
                        <kbd>↑</kbd><kbd>↓</kbd><kbd>←</kbd><kbd>→</kbd>
                    </div>
                    <p>or WASD keys</p>
                </div>
                <div class="help-card">
                    <h4>Game Controls</h4>
                    <div class="key-list">
                        <div><kbd>P</kbd> Pause/Resume</div>
                        <div><kbd>R</kbd> Restart</div>
                        <div><kbd>H</kbd> Toggle Hints</div>
                        <div><kbd>T</kbd> Toggle Stats</div>
                    </div>
                </div>
                <div class="help-card">
                    <h4>Tips</h4>
                    <ul>
                        <li>Collect food to grow</li>
                        <li>Avoid walls and yourself</li>
                        <li>Use AI hints for guidance</li>
                    </ul>
                </div>
            </div>
            <button id="closeHelpBtn" class="btn btn-secondary">
                Close <span class="key-hint">Esc</span>
            </button>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
